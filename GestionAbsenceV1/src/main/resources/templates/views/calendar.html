<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/main_layout}">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<link rel="stylesheet" href="http://docs.dhtmlx.com/scheduler/codebase/dhtmlxscheduler.css"/>

<script src="http://docs.dhtmlx.com/scheduler/codebase/dhtmlxscheduler.js"></script>
<script src="http://docs.dhtmlx.com/scheduler/codebase/ext/dhtmlxscheduler_timeline.js"></script>





<style type="text/css">
.dhx_cal_event_line {
  font-size: 10px;
  line-height: 12px;
  color: white;
  border: 1px solid #CCCCCC;
  padding-top: 3px;
  padding-left: 2px;
  /* Changing this causes the task to finish short visibly */
  padding-bottom: 2px;
}
</style>

</head>
<body>
<div layout:fragment="content" class="container">
<hr
							style="width: 90%; margin: 10px; margin-right: 30px; margin-left: 30;">
<h4 style="margin-left: 30px;">
							<br>· Calendrier des congés validés :</br>
						</h4>
						<hr
							style="width: 90%; margin: 10px; margin-right: 30px; margin-left: 30;">

<div id="scheduler_here" class="dhx_cal_container" style='width:1200px; height:900px;'>
  <div class="dhx_cal_navline">
    <div class="dhx_cal_prev_button">&nbsp;</div>
    <div class="dhx_cal_next_button">&nbsp;</div>
    <div class="dhx_cal_today_button"></div>
    <div class="dhx_cal_date"></div>
    <!--<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
			<div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
			<div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
    <div class="dhx_cal_tab" name="timeline_tab" style="right:280px;"></div>
    <div class="dhx_cal_tab" name="m_tab" style="right:280px;"></div>-->

  </div>
  <div class="dhx_cal_header">
  </div>
  <div class="dhx_cal_data">
  </div>
</div>

<script type="text/javascript">
scheduler.locale.labels.timeline_tab = "Timeline Day";
scheduler.locale.labels.m_tab = "Timeline Month";
scheduler.locale.labels.section_custom = "Section";
scheduler.config.xml_date = "%Y-%m-%d %h:%i";


var sections = [{
    key: 1,
    label: "Res1"
  },
  {
    key: 2,
    label: "Res2"
  }
];

scheduler.createTimelineView({
  name: "timeline",
  x_unit: "day",
  x_date: "%h:%i",
  x_step: 1,
  x_size: 15,
  x_start: 0,
  x_length: 48,
  event_dy: 'full',
  y_unit: [{
      key: 1,
      label: "Adil Cisco"
    },
    {
      key: 2,
      label: "Mhaidi Taoufik"
    },
    {
      key: 3,
      label: "Karim Abonaji"
    }
  ],
  y_property: "room_id",
  dx: 75, // sets width of resource column
  render: "bar",
  second_scale: {
    x_unit: "day",
    x_date: "%D, %j %M"
  }
});

/* scheduler.createTimelineView({
  name: "mTimeline",
  x_unit: "day",
  x_date: "%h:%i",
  x_step: 1,
  x_size: 24,
  x_start: 0,
  x_length: 48,
  event_dy: 'full',
  y_unit: [{
      key: "1",
      label: "Adil Cisco"
    },
    {
      key: 2,
      label: "Mhaidi Taoufik"
    },
    {
      key: 3,
      label: "Karim Abonaji"
    }
  ],
  y_property: "room_id",
  dx: 30, // sets width of resource column
  render: "bar",
  second_scale: {
    x_unit: "day",
    x_date: "%D, %j %M"
  }
}); */

// set schedule to current day
var d = new Date();
var year1 = d.getFullYear();
var month1 = d.getMonth();
var day1 = d.getDate();

// month timeline
//scheduler.config.m_tab('scheduler_here', new Date(year1, month1, day1), "mTimeline");

//===============
//Data loading
//===============
scheduler.config.lightbox.sections = [{
    name: "description",
    height: 130,
    map_to: "text",
    type: "textarea",
    focus: true
  },
  {
    name: "custom",
    height: 23,
    type: "select",
    options: sections,
    map_to: "section_id"
  },
  {
    name: "time",
    height: 72,
    type: "time",
    map_to: "auto"
  }
];
scheduler.init('scheduler_here', new Date(), "timeline");
scheduler.parse([{
    text: "Absence",
    start_date: "2019-07-20 12:00",
    end_date: "2019-07-20 12:00",
    room_id: "1"
  },
  {
    text: "Congé",
    start_date: "2019-07-17 12:00",
    end_date: "2019-07-120 12:00",
    room_id: "2"
  },
  {
    text: "Congé",
    start_date: "2019-07-26 12:00",
    end_date: "2019-08-20 12:00",
    room_id: "1"
  }
], "json");

</script>

</div>
</body>
</html>